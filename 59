å…¬é–‹å¾Œã«Alexaã‚¹ã‚­ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†ã™ã‚‹æ–¹æ³•


å‰å›ã®è¨˜äº‹ã§å…¬é–‹å¾Œã«ç°¡å˜ã«ã‚¹ã‚­ãƒ«ã‚’ç·¨é›†ã§ãã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚

ã—ã‹ã—ã€Lambdaã®ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†ã™ã‚‹ã¨å…¬é–‹ä¸­ã€é–‹ç™ºä¸­ã®ä¸¡æ–¹ã«åæ˜ ã•ã‚Œã¦ã—ã¾ã†ã®ã§ã€ã‚¹ã‚­ãƒ«ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å½±éŸ¿ãŒå‡ºã¦ã—ã¾ã„ã¾ã™ã€‚

ä»Šå›ã¯æ–°ã—ãé–‹ç™ºä¸­ã®Lambdaã‚’ä½œæˆã—ã€é–‹ç™ºä¸­ã®ã‚¹ã‚­ãƒ«ã¨ç´ã¤ã‘ã¦ã„ãã¾ã™ã€‚

ç¶šãã‚’èª­ã‚€
ğŸ”—ã‚„ã‚ŠãŸã„ã“ã¨
ç”»åƒã« alt å±æ€§ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«å: Untitled-Diagram-8-1024x525.png
ğŸ”—äº‹å‰æº–å‚™
ä»¥å‰ã®è¨˜äº‹ã‚’å‚è€ƒã«ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€ã‚’ä½œæˆã—ã¦ãŠã„ã¦ä¸‹ã•ã„ã€‚

ã‚³ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯ä»¥ä¸‹ã®ã‚‚ã®ã‚’åˆ©ç”¨ã—ã¦ä¸‹ã•ã„ã€‚

const Alexa = require('ask-sdk-core');
const LaunchRequestHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'LaunchRequest';
    },
    handle(handlerInput) {
        const test1 = "ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ1ã®ãƒ©ãƒ ãƒ€ã§ã™";

        const speakOutput = `${test1}`;
        return handlerInput.responseBuilder
            .speak(speakOutput)
            .reprompt(speakOutput)
            .getResponse();
    }
};

const HelpIntentHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'IntentRequest'
            && Alexa.getIntentName(handlerInput.requestEnvelope) === 'AMAZON.HelpIntent';
    },
    handle(handlerInput) {
        const speakOutput = ('ãŠå›°ã‚Šã§ã™ã‹ï¼Ÿ');
        return handlerInput.responseBuilder
            .speak(speakOutput)
            .reprompt(speakOutput)
            .getResponse();
    }
};
const CancelAndStopIntentHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'IntentRequest'
            && (Alexa.getIntentName(handlerInput.requestEnvelope) === 'AMAZON.CancelIntent'
                || Alexa.getIntentName(handlerInput.requestEnvelope) === 'AMAZON.StopIntent');
    },
    handle(handlerInput) {
        const speakOutput = ('ã¾ãŸã­');

        return handlerInput.responseBuilder
            .speak(speakOutput)
            .getResponse();
    }
};
const FallbackIntentHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'IntentRequest'
            && Alexa.getIntentName(handlerInput.requestEnvelope) === 'AMAZON.FallbackIntent';
    },
    handle(handlerInput) {
        const speakOutput = ('FALLBACK_MSG');

        return handlerInput.responseBuilder
            .speak(speakOutput)
            .reprompt(speakOutput)
            .getResponse();
    }
};
const SessionEndedRequestHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'SessionEndedRequest';
    },
    handle(handlerInput) {
        console.log(`~~~~ Session ended: ${JSON.stringify(handlerInput.requestEnvelope)}`);
        // Any cleanup logic goes here.
        return handlerInput.responseBuilder.getResponse(); // notice we send an empty response
    }
};
const IntentReflectorHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'IntentRequest';
    },
    handle(handlerInput) {
        const intentName = Alexa.getIntentName(handlerInput.requestEnvelope);
        const speakOutput = ('REFLECTOR_MSG', {intentName: intentName});

        return handlerInput.responseBuilder
            .speak(speakOutput)
            //.reprompt('add a reprompt if you want to keep the session open for the user to respond')
            .getResponse();
    }
};
const ErrorHandler = {
    canHandle() {
        return true;
    },
    handle(handlerInput, error) {
        const speakOutput = ('ERROR_MSG');
        console.log(`~~~~ Error handled: ${JSON.stringify(error)}`);

        return handlerInput.responseBuilder
            .speak(speakOutput)
            .reprompt(speakOutput)
            .getResponse();
    }
};
exports.handler = Alexa.SkillBuilders.custom()
    .addRequestHandlers(
        LaunchRequestHandler,
        HelpIntentHandler,
        CancelAndStopIntentHandler,
        FallbackIntentHandler,
        SessionEndedRequestHandler,
        IntentReflectorHandler,
    )
    .addErrorHandlers(
        ErrorHandler,
    )
     .withPersistenceAdapter(
     )
    .lambda();

- Lang Select -
ãƒ•ã‚¡ã‚¤ãƒ«å
data-lineå±æ€§å€¤
ğŸ”—Lambdaã®è¤‡è£½
Lambdaã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ä½œæˆã—ãŸé–¢æ•°ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€>ã€Œé–¢æ•°ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ ã€ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚

ç”»åƒã« alt å±æ€§ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«å: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-26-8.05.48-1024x370.png
ã€Œãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ç”»åƒã« alt å±æ€§ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«å: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-26-8.07.41-1024x330.png
æ–°ã—ãé–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚

ç”»åƒã« alt å±æ€§ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«å: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-26-8.09.26-1024x272.png
1ã€2ã®é †ã§ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ç”»åƒã« alt å±æ€§ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«å: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-26-8.11.16-1024x493.png
æ¬¡ã®ç”»é¢ã§ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åã€ã‚’å…¥åŠ›ã—ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

æ–°ã—ãä½œæˆã—ãŸLambdaé–¢æ•°ã‹ã‚‰ã€Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã€>ã€Œ.zip ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ç”»åƒã« alt å±æ€§ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ«å: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2021-01-26-8.15.25-1024x585.png
ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€å…ˆç¨‹ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ã¯åˆ†ã‹ã‚Šã‚„ã™ã„æ§˜ã«ã€ŒLaunchRequestHandlerã€ã®ä¸­èº«ã‚’ä»¥ä¸‹ã®æ§˜ã«å¤‰ãˆã¦ãŠãã¾ã™ã€‚

const LaunchRequestHandler = {
    canHandle(handlerInput) {
        return Alexa.getRequestType(handlerInput.requestEnvelope) === 'LaunchRequest';
    },
    handle(handlerInput) {
        const test1 = "ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ2ã®ãƒ©ãƒ ãƒ€ã§ã™";

        const speakOutput = `${test1}`;
        return handlerInput.responseBuilder
            .speak(speakOutput)
            .reprompt(speakOutput)
            .getResponse();
    }
};

- Lang Select -
ãƒ•ã‚¡ã‚¤ãƒ«å
data-lineå±æ€§å€¤
ğŸ”—Lambdaã¨Alexaã‚¹ã‚­ãƒ«ã¨ã®ç´ä»˜ã‘
ä»¥å‰ã®è¨˜äº‹ã‚’å‚è€ƒã«Lambdaã¨Alexaã‚¹ã‚­ãƒ«ã¨ã®ç´ä»˜ã‘ã‚’è¡Œã£ã¦ä¸‹ã•ã„ã€‚


ã¾ã¨ã‚
Lambdaé–¢æ•°ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æ–¹æ³•ä»¥å¤–ã¯ã€ä»Šã¾ã§ã«æ‰±ã£ã¦ããŸå†…å®¹ãªã®ã§ç°¡å˜ã«è¨­å®šã§ãã¾ã—ãŸã€‚

