sqlectronを利用してRDSに接続してみた


RDSに対して苦手意識がありましたが、仕事で扱うこともあるので、これから複数回に分けて記事を書きしっかり理解しようかと思います。

今回はまずはRDSを作成し、接続確認をしたいと思います。

続きを読む
🔗RDSの作成
RDSのダッシュボードから「データベースの作成」をクリックします。

画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-1024x584.png
「標準作成」をするといろんな設定ができるので、こちらを選択します。

今回は、MySQLを利用します。

「Amazon Aurora」、「Oracle」には無料利用枠がないので気をつけてください。

画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-1-1024x584.png
1.無料利用枠を選択します。
2.リージョン内で一意となるDB名
3.DBに接続するときのユーザー名
4.DBに接続するときのパスワード

画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-2-1024x584.png
1.RDSを作成するVPC
2.自動で作成されるサブネットグループにはすべてのサブネットが含まれます
3.今回はブラウザからアクセスするので、パブリックアクセスをありにします
4.セキュリティグループではRDSに接続するためのポートを開けているものを選択します。
5.MySQLは3306ポートを利用します。

画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-3-1024x584.png
最初に作成するデータベース名を指定します。

画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-4-1024x543.png
「利用可能」になるとRDSを利用できます。

画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-5-1024x584.png
🔗RDSの接続確認
今回はsqlectronを利用して、RDSへの接続確認をします。

こちらからインストールしておいてください

「Add」を選択します。

画像に alt 属性が指定されていません。ファイル名: スクリーンショット-2021-02-11-11.29.29-1024x279.png
1.sqlectronアプリ内で一意となる名前
2.RDS作成時に選択したエンジンの種類
3.作成したRDSのエンドポイント
4.RDS作成時に指定したユーザー名
5.RDS作成時に指定したパスワード

画像に alt 属性が指定されていません。ファイル名: スクリーンショット-2021-02-11-11.34.31-1024x663.png
画像に alt 属性が指定されていません。ファイル名: RDS-·-AWS-Console-6-1024x584.png
「Successfully connected」という文字が出ると、RDSへの接続成功です。

🔗失敗したこと
🔗パブリックアクセス
「パブリックアクセス可能」の選択で、なしを選択するとRDSにパブリックIPアドレスが割り当てられないので、ブラウザからアクセスできなくなります。

🔗サブネットグループ
サブネットグループをRDS作成時に作成すると、VPC内にある全てのサブネットがサブネットグループに入ります。

したがって、VPC内にプライベートサブネットがあり、プライベートサブネットにRDSが作成されると接続できなくなります。

🔗セキュリティグループ
RDSへアタッチするセキュリティグループには、RDSへ接続するためのポートを開いている必要があります。


料金表
画像に alt 属性が指定されていません。ファイル名: Untitled-Diagram.png
無料利用枠を使わなくても、作成時に概算の月間コストが分かります。

画像に alt 属性が指定されていません。ファイル名: スクリーンショット-2021-02-11-13.47.52-1024x395.png
まとめ
RDSを作成して分かりましたがやはり苦手でした。

今回の設定で利用したものや、仕組みについては次回以降しっかりまとめていきます。

